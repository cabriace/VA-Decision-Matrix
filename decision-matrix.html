<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Clinical Product Conversion Decision Matrix</title>
  <link rel="stylesheet" href="style.css?v=2">
</head>
<body>
  <div class="wrapper">
    <h1>Clinical Product Conversion Decision Matrix</h1>

    <!-- Clinical Phase -->
    <div class="matrix-row theme-purple">
      <div class="row-title">Clinical Phase</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="phase1" name="clinical-phase" data-points="1" class="customCheckBoxInput">
        <label for="phase1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Phase 1–2 (low impact)</div></div>
        </label>

        <input type="radio" id="phase2" name="clinical-phase" data-points="2" class="customCheckBoxInput">
        <label for="phase2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Phase 3 (moderate risk)</div></div>
        </label>

        <input type="radio" id="phase3" name="clinical-phase" data-points="3" class="customCheckBoxInput">
        <label for="phase3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Phase 4 (high risk / outcome-sensitive)</div></div>
        </label>
      </div>
    </div>

    <!-- Scope of Impact -->
    <div class="matrix-row theme-blue">
      <div class="row-title">Scope of Impact</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="scope1" name="scope-impact" data-points="1" class="customCheckBoxInput">
        <label for="scope1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Facility-only</div></div>
        </label>

        <input type="radio" id="scope2" name="scope-impact" data-points="2" class="customCheckBoxInput">
        <label for="scope2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Regional</div></div>
        </label>

        <input type="radio" id="scope3" name="scope-impact" data-points="3" class="customCheckBoxInput">
        <label for="scope3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">System-wide</div></div>
        </label>
      </div>
    </div>

    <!-- Patient Safety / Outcomes -->
    <div class="matrix-row theme-red">
      <div class="row-title">Patient Safety / Outcomes</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="safety1" name="patient-safety" data-points="1" class="customCheckBoxInput">
        <label for="safety1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Minimal or none</div></div>
        </label>

        <input type="radio" id="safety2" name="patient-safety" data-points="2" class="customCheckBoxInput">
        <label for="safety2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Moderate</div></div>
        </label>

        <input type="radio" id="safety3" name="patient-safety" data-points="3" class="customCheckBoxInput">
        <label for="safety3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">High / direct outcome impact</div></div>
        </label>
      </div>
    </div>

    <!-- Clinical Preference -->
    <div class="matrix-row theme-green">
      <div class="row-title">Clinical Preference</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="pref1" name="clinical-preference" data-points="1" class="customCheckBoxInput">
        <label for="pref1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">No significant preference</div></div>
        </label>

        <input type="radio" id="pref2" name="clinical-preference" data-points="2" class="customCheckBoxInput">
        <label for="pref2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Some variations in practice</div></div>
        </label>

        <input type="radio" id="pref3" name="clinical-preference" data-points="3" class="customCheckBoxInput">
        <label for="pref3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Strong / physician preference</div></div>
        </label>
      </div>
    </div>

    <!-- Financial Impact -->
    <div class="matrix-row theme-gold">
      <div class="row-title">Financial Impact (Savings)</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="fin1" name="financial-impact" data-points="1" class="customCheckBoxInput">
        <label for="fin1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Savings &lt;$10K, no contract implications</div></div>
        </label>

        <input type="radio" id="fin2" name="financial-impact" data-points="2" class="customCheckBoxInput">
        <label for="fin2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">$10K–$50K, no contract implications</div></div>
        </label>

        <input type="radio" id="fin3" name="financial-impact" data-points="3" class="customCheckBoxInput">
        <label for="fin3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">&gt;$50K, contractual implications</div></div>
        </label>
      </div>
    </div>

    <!-- Regulatory / IP -->
    <div class="matrix-row theme-pink">
      <div class="row-title">Regulatory / IP Requirements</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="reg1" name="regulatory" data-points="1" class="customCheckBoxInput">
        <label for="reg1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">No regulatory/IP requirement</div></div>
        </label>

        <input type="radio" id="reg2" name="regulatory" data-points="2" class="customCheckBoxInput">
        <label for="reg2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Moderate (documentation / review)</div></div>
        </label>

        <input type="radio" id="reg3" name="regulatory" data-points="3" class="customCheckBoxInput">
        <label for="reg3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">High (FDA, IP, or legal implications)</div></div>
        </label>
      </div>
    </div>

    <!-- Education / Training -->
    <div class="matrix-row theme-cyan">
      <div class="row-title">Education / Training Needs</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="edu1" name="education" data-points="1" class="customCheckBoxInput">
        <label for="edu1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">FYI only - None required</div></div>
        </label>

        <input type="radio" id="edu2" name="education" data-points="2" class="customCheckBoxInput">
        <label for="edu2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Basic in-service or orientation</div></div>
        </label>

        <input type="radio" id="edu3" name="education" data-points="3" class="customCheckBoxInput">
        <label for="edu3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Broad retraining / new competencies</div></div>
        </label>
      </div>
    </div>

    <!-- Urgency -->
    <div class="matrix-row theme-orange">
      <div class="row-title">Urgency / Backorder / Disruption</div>
      <div class="customCheckBoxHolder">
        <input type="radio" id="urg1" name="urgency" data-points="1" class="customCheckBoxInput">
        <label for="urg1" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">No urgency (planned conversion)</div></div>
        </label>

        <input type="radio" id="urg2" name="urgency" data-points="2" class="customCheckBoxInput">
        <label for="urg2" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">Moderate urgency (backorder risk)</div></div>
        </label>

        <input type="radio" id="urg3" name="urgency" data-points="3" class="customCheckBoxInput">
        <label for="urg3" class="customCheckBoxWrapper">
          <div class="customCheckBox"><div class="inner">High urgency (recall/disruption)</div></div>
        </label>
      </div>
    </div>

    <!-- Score + Result -->
    <div id="score">Current Score: 0 points</div>

    <div class="output-container">
      <div id="result" class="decision-output"></div>
    </div>

    <button onclick="resetMatrix()">Reset / Start Over</button>
    <a href="index.html" class="back-link">← Back to Home</a>
  </div>

  <script>
    const radios = document.querySelectorAll('input[type="radio"]');
    const scoreDisplay = document.getElementById('score');
    const resultBox = document.getElementById('result');

    radios.forEach(radio => {
      radio.addEventListener('change', calculateScore);
    });

    function calculateScore() {
      let total = 0;
      const selectedGroups = new Set();
      radios.forEach(radio => {
        if (radio.checked) {
          total += parseInt(radio.dataset.points);
          selectedGroups.add(radio.name);
        }
      });

      const allGroups = new Set([...document.querySelectorAll('input[type="radio"]')].map(r => r.name));
      const complete = selectedGroups.size === allGroups.size;

      scoreDisplay.textContent = `Current Score: ${total} points`;
      if (complete) showResult(total);
      else resultBox.style.display = 'none';
    }

    function showResult(score) {
      let impact, decision, communication, audience;

      if (score >= 8 && score <= 12) {
        impact = "Low (8–12 pts)";
        decision = "VA decides unilaterally";
        communication = "• FYI Only<br>• Email Notice<br>• Safety Huddle";
        audience = "Unit Managers, SC Ops, Educators";
      } else if (score >= 13 && score <= 18) {
        impact = "Moderate (13–18 pts)";
        decision = "VA + SME Input";
        communication = "• Product Flyer<br>• SME Engagement<br>• Regional Updates";
        audience = "Regional CNOs, Quality, SMEs";
      } else if (score >= 19 && score <= 24) {
        impact = "High (19–24 pts)";
        decision = "Clinical Expert Review";
        communication = "• Governance Approval<br>• System-wide Rollout<br>• Formal Training";
        audience = "CNO/COO Council, Physicians, Execs, Quality";
      }

      resultBox.innerHTML = `
        <h3>Decision Output</h3>
        <p><strong>Impact Level:</strong> ${impact}</p>
        <p><strong>Decision Level:</strong> ${decision}</p>
        <p><strong>Communication:</strong><br>${communication}</p>
        <p><strong>Audience:</strong> ${audience}</p>
      `;
      resultBox.style.display = 'block';
    }

    function resetMatrix() {
      radios.forEach(r => (r.checked = false));
      scoreDisplay.textContent = "Current Score: 0 points";
      resultBox.style.display = 'none';
    }
  </script>
</body>
</html>
